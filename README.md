# HeySalad Â® Tasha ğŸ¥—ğŸ¤–

## AI-Powered Food Analysis and Waste Reduction on Polkadot

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Polkadot](https://img.shields.io/badge/Built%20on-Polkadot-E6007A)](https://polkadot.network/)
[![Next.js](https://img.shields.io/badge/Frontend-Next.js_15-black)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19-blue)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue)](https://www.typescriptlang.org/)

**ğŸš€ Live Demo:** [https://frontend-tau-one-38.vercel.app/](https://frontend-tau-one-38.vercel.app/)

### ğŸŒŸ Transform Food Analysis Into Digital Value

HeySalad Tasha is an innovative AI-powered platform that combines food analysis with blockchain technology. Users can analyze food with AI, log their activities through voice interaction, and earn tokens for sustainable choices - all through a beautiful, professional interface.

---

## ğŸ¨ Professional Dark Theme Interface

### Modern Design System
- **ğŸ–¤ Sleek Black Theme**: Complete dark interface (#000000) throughout the application
- **ğŸ¨ HeySalad Brand Colors**: Cherry Red (#ed4c4c), Light Peach (#ffd0cd), Dark Peach (#faa09a)
- **ğŸ”§ Professional Icons**: Lucide React icons for a clean, modern look
- **âœï¸ Typography**: Grandstander (headings) + Figtree (body) from Google Fonts
- **ğŸ“± Mobile-First**: Fully responsive design with touch-optimized interactions

### Key UI Features
- âœ¨ **Simplified Dashboard** with time-based greeting and 2 main action buttons
- ğŸ”— **Collapsible Wallet Connection** with persistence and auto-reconnect
- ğŸ“± **Mobile Hamburger Menu** with smooth slide animations
- ğŸ¯ **Professional Components** with hover effects and micro-interactions
- ğŸ”„ **Smooth Animations** throughout the interface
- ğŸ“‹ **Swipeable Cards** for better mobile UX in analysis results

---

## ğŸ—ï¸ Current Architecture

### Frontend Stack
- **Framework**: Next.js 15 with React 19
- **Styling**: Custom CSS with HeySalad dark theme system
- **UI Components**: Professional Lucide React icons
- **Fonts**: Google Fonts (Grandstander + Figtree)
- **Deployment**: Vercel (Next.js App Router with serverless API routes)

### Blockchain Integration
- **Network**: Polkadot Westend Testnet
- **Wallet Support**: Polkadot{.js}, Talisman, SubWallet
- **Features**: Message signing, transaction support, persistent connections

### AI & Voice Integration
- **AI Analysis**: Google Gemini API for food image analysis
- **Voice Interface**: 11Labs agentic workflow with custom tool-calls for waste logging + wallet coaching
- **Serverless Backend**: Next.js API routes running on Vercel (Supabase persistent storage planned)
- **Banking**: Monzo API for transaction verification (in development)

---

## ğŸš€ Current Features (Live)

### âœ… Wallet Integration
- **Polkadot Wallet Connection**: Support for multiple wallet extensions
- **Persistent Sessions**: Auto-reconnect within 24 hours
- **Message Signing**: Cryptographic authentication for features
- **Balance Display**: Real-time token balance from Westend testnet
- **Account Management**: Multiple account support with easy switching

### âœ… Image Analysis (Live)
- **Camera Integration**: Native camera support for iOS/Android
- **File Upload**: Support for JPEG, PNG, WebP, MP4, WebM, MOV
- **Mobile Optimized**: Environment camera (back camera) on mobile devices
- **AI Food Analysis**: Google Gemini API integration for food recognition
- **Swipeable Results**: 5 card interface for better mobile UX
- **Selective Minting**: Users choose what analysis data to tokenize

### âœ… Professional Interface
- **Time-Based Greeting**: Dynamic welcome message based on time of day
- **Collapsible Wallet**: Users can minimize wallet section
- **Action-Oriented Design**: Two main buttons for core features
- **Mobile Responsive**: Perfect mobile experience with hamburger menu
- **Dark Theme**: Consistent black theme throughout

### âœ… Navigation & UX
- **Simplified Dashboard**: Clean, focused interface
- **Professional Sidebar**: HeySalad branding with navigation
- **Smooth Animations**: Hover effects and transitions
- **Touch Optimization**: Mobile-first interaction design
- **Card-Based Results**: Swipeable interface prevents excessive scrolling

---

## ğŸ“± Mobile-First Design

### Enhanced Mobile Features
- **ğŸ” Hamburger Menu**: Smooth slide-in navigation
- **ğŸ“¸ Native Camera**: Environment camera for food photos
- **ğŸ‘† Touch Optimization**: 44px minimum touch targets
- **ğŸ“ Adaptive Layouts**: Responsive grid systems
- **ğŸ¨ Progressive Enhancement**: Mobile base with desktop enhancements
- **ğŸ“‹ Swipeable Cards**: Better content navigation on small screens

### Cross-Platform Support
- **ğŸ“± iOS Support**: Native camera integration, proper video formats
- **ğŸ¤– Android Support**: Environment camera, WebM/MP4 video support
- **ğŸ’» Desktop**: Enhanced with larger layouts and hover effects
- **ğŸ”„ File Upload**: Support for gallery/camera roll selection

### Accessibility
- **Keyboard Navigation**: Full keyboard support
- **Screen Reader**: Semantic HTML and ARIA labels
- **Color Contrast**: WCAG 2.1 AA compliance
- **Focus Management**: Clear focus indicators

---

## ğŸ¯ User Experience Flow

### Current Working Flow
1. **Visit Dashboard** â†’ [tasha.heysalad.app](https://tasha.heysalad.app/)
2. **Connect Wallet** â†’ Choose from Polkadot{.js}, Talisman, or SubWallet
3. **Image Analysis** â†’ Click "Image Analysis" button
4. **Authenticate** â†’ Sign message with wallet for AI access
5. **Capture/Upload** â†’ Take photo, record video, or upload file
6. **AI Analysis** â†’ Google Gemini analyzes food automatically
7. **Swipe Results** â†’ Navigate through 5 analysis cards:
   - Overview & confidence score
   - Analysis results (freshness, nutrition, etc.)
   - Environmental impact (CO2, water footprint)
   - Action recommendations (journal, recipes, waste tips)
   - Selective minting options
8. **Choose Minting** â†’ Select which data to tokenize
9. **Sign & Mint** â†’ Cryptographic signing for token creation

---

## ğŸ”„ In Development

### ğŸ› ï¸ Next Phase Features
- **ğŸ¤ Voice Assistant Page**: 11Labs integration for voice logging
- **ğŸ¤– Enhanced AI**: Integration with 11Labs conversational AI
- **ğŸ’¾ Supabase / Durable Storage**: Persistent data + user profiles
- **âš¡ Token Minting**: Actual blockchain token creation
- **ğŸ” Advanced Authentication**: Multi-factor wallet security

### ğŸ¯ Planned Voice Features
1. **Voice Conversations** â†’ Natural food discussions with AI
2. **Speech Recognition** â†’ Convert voice to structured data
3. **AI Responses** â†’ 11Labs voice synthesis for replies
4. **Food Logging** â†’ Voice-powered waste reduction tracking
5. **Recipe Suggestions** â†’ Spoken recipe recommendations
6. **Minting Integration** â†’ Voice approval for token creation

---

## ï¿½  Polkadot PAPI Integration

### Latest Implementation (Updated November 2025)

This project uses the **latest Polkadot API (PAPI)** for blockchain interactions:

**Core PAPI Packages:**
- `polkadot-api` v1.20.5 - Main API client
- `@polkadot-api/ws-provider` v0.7.4 - WebSocket provider
- `@polkadot-api/pjs-signer` v0.6.17 - Wallet signer integration
- `@polkadot-api/descriptors` - Auto-generated typed APIs

**Features Implemented:**
- âœ… Typed APIs with Asset Hub descriptors
- âœ… Modern client initialization with `createClient()`
- âœ… Wallet integration (Polkadot.js, Talisman, SubWallet)
- âœ… Transaction signing with `signSubmitAndWatch()`
- âœ… Asset minting on Westend Asset Hub
- âœ… Real-time balance queries
- âœ… Persistent wallet sessions

**Key Files:**
- `src/hooks/usePolkadotWallet.ts` - Main wallet hook
- `src/services/PolkadotTokenService.ts` - Token minting service
- `.papi/` - Generated descriptors and metadata

See `frontend/PAPI_UPDATE_SUMMARY.md` for detailed implementation notes.

---

## ğŸ”§ Technical Implementation

### Current Stack
```javascript
// Frontend
- Next.js 15 (App Router)
- React 19 (Latest)
- TypeScript 5
- Custom CSS with CSS Variables
- Lucide React Icons

// AI Integration
- Google Gemini API (Food Analysis)
- 11Labs API (Voice - Ready)
- Custom analysis pipelines

// Blockchain (Latest PAPI - Updated Nov 2025)
- polkadot-api v1.20.5 (Latest)
- @polkadot-api/ws-provider v0.7.4
- @polkadot-api/pjs-signer v0.6.17
- @polkadot/extension-dapp v0.62.4
- Westend Asset Hub Integration
- Typed APIs with Asset Hub descriptors

// Deployment
- Vercel (Next.js App Router)
- Custom Domain: tasha.heysalad.app
```

### Architecture Decisions
- **Serverless Rendering**: Next.js App Router deployed on Vercel with API routes for ElevenLabs, Monzo, and Gemini
- **Client-Side Wallet**: Browser extension integration for security
- **Persistent State**: localStorage for wallet connection persistence
- **Message Signing**: Cryptographic authentication for feature access
- **Mobile-First**: Environment camera and touch optimization

---

## ğŸš€ Live Deployment

### Current Status
- **âœ… Production Ready**: Live at [tasha.heysalad.app](https://tasha.heysalad.app/)
- **âœ… Mobile Optimized**: Perfect mobile experience with native camera
- **âœ… Wallet Integration**: Full Polkadot wallet support
- **âœ… AI Analysis**: Working Google Gemini food analysis
- **âœ… Dark Theme**: Professional interface complete
- **âœ… Swipeable UX**: Card-based results for mobile

### Environment Setup
```bash
# Client-side
NEXT_PUBLIC_CONTRACT_ADDRESS=0xYourContract
NEXT_PUBLIC_RPC_ENDPOINT=wss://westend-asset-hub-rpc.polkadot.io

# Server-side (do NOT prefix with NEXT_PUBLIC)
ELEVENLABS_API_KEY=sk-...
ELEVENLABS_AGENT_ID=agent_...
ELEVENLABS_VOICE_ID=pNInz6obpgDQGcFmaJgB
GEMINI_API_KEY=AIza...
MONZO_CLIENT_ID=oauth2client_....
MONZO_CLIENT_SECRET=mnzpub....
MONZO_REDIRECT_URI=https://tasha.heysalad.app/auth/monzo
```

---

## ğŸ› ï¸ Local Development

### Prerequisites
```bash
Node.js 18+
npm or yarn
Git
Polkadot wallet extension (for testing)
Google Gemini API key
11Labs API key (for voice features)
```

### Quick Start
```bash
# Clone the repository
git clone https://github.com/your-username/polkadot-hackathon.git
cd polkadot-hackathon/frontend

# Install dependencies
npm install

# Add environment variables
cp .env.example .env.local
# Add your API keys to .env.local

# Start development server
npm run dev

# Visit http://localhost:3000
```

### Testing Features
```bash
# Test image analysis
1. Connect a Polkadot wallet
2. Navigate to /image-analysis
3. Take a photo of food
4. Review AI analysis results
5. Test selective minting options

# Test mobile features
1. Open on mobile device
2. Test environment camera
3. Upload from camera roll
4. Swipe through result cards
5. Test responsive navigation
```

---

## ğŸ“Š Project Status

### âœ… Completed Features
- [x] **Professional Dark Theme** - Complete black interface
- [x] **Wallet Integration** - Polkadot wallet connection with persistence
- [x] **Latest PAPI Integration** - Updated to polkadot-api v1.20.5 (Nov 2025)
- [x] **Asset Hub Support** - Full typed API integration for FWT token minting
- [x] **Mobile Camera** - Native iOS/Android camera support
- [x] **AI Food Analysis** - Google Gemini integration
- [x] **Swipeable Results** - Card-based mobile UX
- [x] **Message Signing** - Cryptographic authentication
- [x] **Production Deployment** - Live at tasha.heysalad.app
- [x] **Cross-Platform** - iOS, Android, desktop support

### ğŸ”„ In Progress
- [ ] **Voice Assistant Page** - 11Labs voice integration
- [ ] **Supabase Backend** - Data management system
- [ ] **Token Minting** - Actual blockchain token creation
- [ ] **Advanced Analytics** - Food waste tracking over time

### ğŸ¯ Planned Features
- [ ] **Monzo Integration** - Banking transaction verification
- [ ] **NFT Achievements** - Milestone-based rewards
- [ ] **Social Features** - Community leaderboards
- [ ] **Recipe Generation** - AI-powered meal suggestions
- [ ] **Waste Tracking** - Comprehensive logging system

---

## ğŸ† Polkadot Grant Project

This project is being developed as part of a **Polkadot Fast Grant** focused on:

### Grant Objectives
- **Voice Technology Integration**: 11Labs voice assistant on Polkadot
- **Real-World Utility**: Practical application for food waste reduction
- **AI Verification**: Computer vision for sustainability tracking
- **Token Economics**: Reward system for verified sustainable actions

### Deliverables Progress
- **âœ… Milestone 1**: Professional dApp interface with wallet integration
- **âœ… Milestone 1.5**: AI food analysis with mobile camera support
- **ğŸ”„ Milestone 2**: Voice assistant and token minting (in development)

---

## ğŸ¤ Contributing

We welcome contributions from developers interested in sustainability and blockchain technology!

### Development Guidelines
- ğŸ¨ Follow HeySalad dark theme design system
- ğŸ”§ Use professional Lucide React icons
- ğŸ“± Ensure mobile responsiveness with touch optimization
- ğŸ§ª Add tests for new features
- ğŸ“ Update documentation

### Getting Started
```bash
# Fork the repository
git fork https://github.com/your-username/polkadot-hackathon.git

# Create feature branch
git checkout -b feature/amazing-feature

# Install dependencies
cd frontend
npm install

# Start the dev server
npm run dev

# Make your changes
# Commit and push
# Open Pull Request
```

### Environment Variables & Deployment (Vercel)

| Scope            | Variable                  | Description / Example                                           |
| ---------------- | ------------------------- | ---------------------------------------------------------------- |
| **Client**       | `NEXT_PUBLIC_CONTRACT_ADDRESS` | FoodWasteToken contract on Westend                                |
|                  | `NEXT_PUBLIC_RPC_ENDPOINT`     | Asset Hub RPC WebSocket URL                                      |
|                  | `NEXT_PUBLIC_FUNCTIONS_BASE_URL` *(optional)* | Override API base when hitting a custom backend/emulator |
| **Server**       | `ELEVENLABS_API_KEY`             | Secret key for ElevenLabs ConvAI                                 |
|                  | `ELEVENLABS_AGENT_ID`            | Agent to use for signed WebSocket URLs                           |
|                  | `ELEVENLABS_VOICE_ID` *(optional)* | Default voice for TTS                                            |
|                  | `GEMINI_API_KEY`                 | Google Gemini key used for media analysis                        |
|                  | `MONZO_CLIENT_ID`                | OAuth client id from Monzo developer portal                      |
|                  | `MONZO_CLIENT_SECRET`            | OAuth secret                                                     |
|                  | `MONZO_REDIRECT_URI`             | e.g. `https://tasha.heysalad.app/auth/monzo`                     |

Local development: create `frontend/.env.local` and add the client + server variables (no `NEXT_PUBLIC` prefix for secrets).  
Vercel: set the **Root Directory** to `frontend`, then add the same variables in the Vercel dashboard (Project Settings â†’ Environment Variables).

Deploy checklist:
1. Push to GitHub (Vercel automatically builds from `frontend`).
2. Or deploy manually:
   ```bash
   cd frontend
   npm install
   npm run build    # optional verification
   vercel           # link project, choose frontend as root
   vercel --prod    # promote to production when ready
   ```

> The Next.js API routes now handle all ElevenLabs, Gemini, and Monzo traffic, so the browser never touches your secret keys.

### Testing
```bash
cd frontend

# Unit tests
npm test

# Integration tests
npm run test:integration

# Placeholder E2E entry point (replace with Playwright in CI)
npm run test:e2e
```

---

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ“ Contact & Links

### Team
- **Lead Developer**: [@chilumbam](https://github.com/chilu18)
- **Organization**: SALADHR TECHNOLOGY LTD

### Project Links
- **ğŸŒ Live App**: [https://tasha.heysalad.app/](https://tasha.heysalad.app/)
- **ğŸ“± Main Website**: [https://heysalad.io/](https://heysalad.io/)
- **ğŸ¤– AI Platform**: [https://ai.heysalad.app/](https://ai.heysalad.app/)
- **ğŸ“§ Contact**: peter@heysalad.io

### Development
- **ğŸ› Issues**: [GitHub Issues](https://github.com/your-username/polkadot-hackathon/issues)
- **ğŸ’¡ Discussions**: [GitHub Discussions](https://github.com/your-username/polkadot-hackathon/discussions)

---

<div align="center">

**ğŸ¥— Making food analysis accessible through AI and blockchain technology! ğŸŒ±**

Built with â¤ï¸ for the Polkadot ecosystem

[â­ Star this repo](https://github.com/your-username/polkadot-hackathon) â€¢ [ğŸ´ Fork it](https://github.com/your-username/polkadot-hackathon/fork) â€¢ [ğŸš€ Try the demo](https://tasha.heysalad.app/)

</div> Lucide React icons
- ğŸ“± Ensure mobile responsiveness
- ğŸ§ª Add tests for new features
- ğŸ“ Update documentation

### Getting Started
```bash
# Fork the repository
git fork https://github.com/your-username/polkadot-hackathon.git

# Create feature branch
git checkout -b feature/amazing-feature

# Make your changes
# Commit and push
# Open Pull Request
```

---

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ“ Contact & Links

### Team
- **Lead Developer**: [@chilumbam](https://github.com/chilu18)
- **Organization**: SALADHR TECHNOLOGY LTD

### Project Links
- **ğŸŒ Live App**: [https://tasha.heysalad.app/](https://tasha.heysalad.app/)
- **ğŸ“± Main Website**: [https://heysalad.io/](https://heysalad.io/)
- **ğŸ¤– AI Platform**: [https://ai.heysalad.app/](https://ai.heysalad.app/)
- **ğŸ“§ Contact**: peter@heysalad.io

### Development
- **ğŸ› Issues**: [GitHub Issues](https://github.com/your-username/polkadot-hackathon/issues)
- **ğŸ’¡ Discussions**: [GitHub Discussions](https://github.com/your-username/polkadot-hackathon/discussions)

---

<div align="center">

**ğŸ¥— Making food analysis accessible through AI and blockchain technology! ğŸŒ±**

Built with â¤ï¸ for the Polkadot ecosystem

[â­ Star this repo](https://github.com/your-username/polkadot-hackathon) â€¢ [ğŸ´ Fork it](https://github.com/your-username/polkadot-hackathon/fork) â€¢ [ğŸš€ Try the demo](https://tasha.heysalad.app/)

</div>
